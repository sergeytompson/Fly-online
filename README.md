# Чат-бот для бронирования авиа-билетов "ВКонтакте"

## Описание
Добро пожаловать в мой пет-проект чат-бота для "ВКонтакте".

Бот реализован с помощью API "ВКонтакте". Он умеет отвечать пользователю на приветствия, а также реализует сценарий 
бронирования авиабилета. На все остальные запросы бот отвечает стандартным сообщением, в котором рассказывает о команде, 
начинающей сценарий.

В рамках сценария бот узнает у пользователя город вылета и город прибытия, дату перелета, номер рейса, количество мест,
комментарий к заказу. Затем бот ожидает подтверждения правильности введения информации от пользователя. Далее бот узнает
ФИО клиента, а затем присылает пользователю билет.

## Стек
+ Python 3.10
+ vk-api 11.9
+ Pillow 9.2
+ Pony_ORM 0.7
+ PostgreSQL 14

## Установка
1. Копирование проекта: `git clone https://github.com/sergeytompson/chat_bot`
2. Переходим в папку проекта: `cd chat_bot`
3. Устанавливаем зависимости: `pip install -r requirements.txt`
4. Переходим в папку приложения: `cd shelter`
5. Убираем из названия файла 'settings.py' окончание '.default'. В файле переопределяем константы:
   + TOKEN - токен группы 'ВКонтакте', к которой мы хотим подключить бот. Получить его можно на странице группы
   (необходимо иметь статус администратора) -> Управление -> Настройки -> Работа с API -> Создать ключ -> 
   Разрешить приложению доступ к сообщениям сообщества -> Создать
   + GROUP_ID - id группы, к которой мы хотим подключить бота.
   + DB_USER - имя администратора нашей базы данных
   + DB_USER_PASSWORD - пароль администратора нашей базы данных
6. Убедитесь, что у вас установлена PostgreSQL. Создайте базу данных с именем 'vk_chat_bot'. Как это сделать, можно узнать
в официальной [документации](https://postgrespro.ru/docs/postgresql/9.5/manage-ag-createdb). Убедитесь, что
администратор, чьи имя и пароль мы записали в прошлом шаге, имеет все права для работы с БД 'vk_chat_bot'.
7. Подключите Long Poll API: на странице группы (необходимо иметь статус администратора) -> Управление -> Настройки -> 
Работа с API -> Long Poll API -> Переводим 'отключено' на 'включено'
8. Запустите приложение: `python main.py`

## Контакты
+ Telegram: @sergeytompson
+ Email: gfhfahfp@gmail.com